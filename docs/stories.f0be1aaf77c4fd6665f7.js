!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([function(e,t,s){!function(){"use strict";function e(e){var t=!0,s=!1,n=null,i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function a(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function r(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function l(e){t=!1}function o(){document.addEventListener("mousemove",c),document.addEventListener("mousedown",c),document.addEventListener("mouseup",c),document.addEventListener("pointermove",c),document.addEventListener("pointerdown",c),document.addEventListener("pointerup",c),document.addEventListener("touchmove",c),document.addEventListener("touchstart",c),document.addEventListener("touchend",c)}function c(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mousedown",c),document.removeEventListener("mouseup",c),document.removeEventListener("pointermove",c),document.removeEventListener("pointerdown",c),document.removeEventListener("pointerup",c),document.removeEventListener("touchmove",c),document.removeEventListener("touchstart",c),document.removeEventListener("touchend",c))}document.addEventListener("keydown",(function(s){s.metaKey||s.altKey||s.ctrlKey||(a(e.activeElement)&&r(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",l,!0),document.addEventListener("pointerdown",l,!0),document.addEventListener("touchstart",l,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(s&&(t=!0),o())}),!0),o(),e.addEventListener("focus",(function(e){var s,n,l;a(e.target)&&(t||(n=(s=e.target).type,"INPUT"===(l=s.tagName)&&i[n]&&!s.readOnly||"TEXTAREA"===l&&!s.readOnly||s.isContentEditable))&&r(e.target)}),!0),e.addEventListener("blur",(function(e){var t;a(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(s=!0,window.clearTimeout(n),n=window.setTimeout((function(){s=!1}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()},function(e,t,s){"use strict";s.r(t);s(0);const n=e=>{const{avatar_url:t,id:s,login:n}=e;return{id:s,avatar:t,name:n,valueText:""}};var i,a;const r="beforebegin",l="afterbegin",o="beforeend",c="afterend",d="activity",_="diagram",h="leaders",u="chart",p="vote",g={LIGHT:"light",DARK:"dark"},m="page",v="theme",b=g.DARK,x=g.LIGHT,f="page-next",C="page-prev",w="page-default",$={PAGE_DEFAULT:0,THEME_DEFAULT:g.LIGHT},y="VOTE_USER",T="INIT",I="UPDATE_SELECTED_VOTE",E=Number(null!==(i=localStorage.getItem(m))&&void 0!==i?i:$.PAGE_DEFAULT),S=null!==(a=localStorage.getItem(v))&&void 0!==a?a:$.THEME_DEFAULT,k=[`<link class="favicon" rel="apple-touch-icon" sizes="57x57" href="assets/favicon/${S}/apple-icon-57x57.png">`,`<link class="favicon" rel="apple-touch-icon" sizes="60x60" href="assets/favicon/${S}/apple-icon-60x60.png">`,`<link class="favicon" rel="apple-touch-icon" sizes="72x72" href="assets/favicon/${S}/apple-icon-72x72.png">`,`<link class="favicon" rel="apple-touch-icon" sizes="76x76" href="assets/favicon/${S}/apple-icon-76x76.png">`,`<link class="favicon" rel="apple-touch-icon" sizes="114x114" href="assets/favicon/${S}/apple-icon-114x114.pn,g">`,`<link class="favicon" rel="apple-touch-icon" sizes="120x120" href="assets/favicon/${S}/apple-icon-120x120.png">`,`<link class="favicon" rel="apple-touch-icon" sizes="144x144" href="assets/favicon/${S}/apple-icon-144x144.png">`,`<link class="favicon" rel="apple-touch-icon" sizes="152x152" href="assets/favicon/${S}/apple-icon-152x152.png">`,`<link class="favicon" rel="apple-touch-icon" sizes="180x180" href="assets/favicon/${S}/apple-icon-180x180.png">`,`<link class="favicon" rel="icon" type="image/png" sizes="192x192"  href="assets/favicon/${S}/android-icon-192x192.png">`,`<link class="favicon" rel="icon" type="image/png" sizes="32x32" href="assets/favicon/${S}/favicon-32x32.png">`,`<link class="favicon" rel="icon" type="image/png" sizes="96x96" href="assets/favicon/${S}/favicon-96x96.png">`,`<link class="favicon" rel="icon" type="image/png" sizes="16x16" href="assets/favicon/${S}/favicon-16x16.png">`,`<link class="favicon" rel="manifest" href="assets/favicon/${S}/manifest.json">`,'<meta name="msapplication-TileColor" content="#ffffff">',`<meta class="favicon-msapplication" name="msapplication-TileImage" content="assets/favicon/${S}/ms-icon-144x144.png">`,'<meta name="theme-color" content="#ffffff">'],P=e=>{const{spliceStart:t=0,spliceEnd:s,randomIntStart:n,randomIntEnd:i,category:a,data:r}=e;return r.splice(t,s).map((e=>{var t,s;return e.valueText=`${t=n,s=i,Math.floor(Math.random()*(s-t+1))+t} ${a}`,e})).sort(((e,t)=>parseInt(t.valueText,10)-parseInt(e.valueText,10)))},L=e=>P({spliceEnd:15,randomIntStart:5,randomIntEnd:30,category:"votes",data:e}),A="–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",D=e=>{const t=P({spliceEnd:5,randomIntStart:2e3,randomIntEnd:4e3,category:"lines",data:e});const s=(e=>P({spliceEnd:5,randomIntStart:20,randomIntEnd:40,category:"commits",data:e}))(e),n=L(e),i=L(e);return[{alias:h,data:{title:"–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∫–æ–º–º–∏—Ç–æ–≤",subtitle:A,emoji:"üëë",users:s}},{alias:h,data:{title:"–°–∞–º—ã–π –±–æ–ª—å—à–æ–π –∫–æ–º–º–∏—Ç",subtitle:A,emoji:"üòÆ",users:t}},{alias:p,data:{title:"–°–∞–º—ã–π üîé –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",subtitle:A,emoji:"üîé",selectedUserId:null,users:n}},{alias:h,data:{title:"–°–∞–º—ã–π üîé –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",subtitle:A,emoji:"üîé",selectedUserId:null,selectedUserIdPrev:null,users:n}},{alias:p,data:{title:"–°–∞–º—ã–π üë™ –∫–æ–º–∞–Ω–¥–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",subtitle:A,emoji:"üë™",selectedUserId:null,users:i}},{alias:h,data:{title:"–°–∞–º—ã–π üë™ –∫–æ–º–∞–Ω–¥–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",subtitle:A,emoji:"üë™",selectedUserId:null,selectedUserIdPrev:null,users:i}},{alias:u,data:{title:"–ö–æ–º–º–∏—Ç—ã",subtitle:A,values:[{title:"203",value:108},{title:"204",value:160},{title:"205",value:126},{title:"206",value:134},{title:"207",value:112},{title:"208",value:152},{title:"209",value:128},{title:"210",value:164},{title:"211",value:118},{title:"212",value:140},{title:"213",value:182,active:!0},{title:"214",value:0},{title:"215",value:0},{title:"216",value:0},{title:"217",value:0},{title:"218",value:0}],users:s}},{alias:u,data:{title:"–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞",subtitle:A,values:[{title:"203",value:4779},{title:"204",value:6859},{title:"205",value:5547},{title:"206",value:6307},{title:"207",value:5191},{title:"208",value:6585},{title:"209",value:6069},{title:"210",value:7063},{title:"211",value:5729},{title:"212",value:6283},{title:"213",value:9415,active:!0},{title:"214",value:0},{title:"215",value:0},{title:"216",value:0},{title:"217",value:0},{title:"218",value:0}],users:t}},{alias:_,data:{title:"–†–∞–∑–º–µ—Ä –∫–æ–º–º–∏—Ç–æ–≤",subtitle:A,totalText:"182 –∫–æ–º–º–∏—Ç–∞",differenceText:"+42 —Å –ø—Ä–æ—à–ª–æ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞",categories:[{title:"> 1001 —Å—Ç—Ä–æ–∫–∏",valueText:"30 –∫–æ–º–º–∏—Ç–æ–≤",differenceText:"+8 –∫–æ–º–º–∏—Ç–æ–≤"},{title:"501 ‚Äî 1000 —Å—Ç—Ä–æ–∫",valueText:"32 –∫–æ–º–º–∏—Ç–∞",differenceText:"+6 –∫–æ–º–º–∏—Ç–æ–≤"},{title:"101 ‚Äî 500 —Å—Ç—Ä–æ–∫",valueText:"58 –∫–æ–º–º–∏—Ç–æ–≤",differenceText:"+16 –∫–æ–º–º–∏—Ç–æ–≤"},{title:"1 ‚Äî 100 —Å—Ç—Ä–æ–∫",valueText:"62 –∫–æ–º–º–∏—Ç–∞",differenceText:"+12 –∫–æ–º–º–∏—Ç–æ–≤"}]}},{alias:d,data:{title:"–ö–æ–º–º–∏—Ç—ã, 1 –Ω–µ–¥–µ–ª—è",subtitle:A,data:{mon:[0,0,0,0,1,0,0,0,0,0,2,3,2,1,0,1,0,0,0,0,0,0,0,0],tue:[0,0,0,0,1,0,0,0,0,5,0,4,0,0,0,0,1,0,3,0,0,2,1,0],wed:[1,0,0,0,1,0,5,0,0,4,0,0,0,5,0,2,1,0,0,0,0,0,0,1],thu:[0,1,0,1,0,0,0,0,6,0,1,0,0,1,0,0,5,0,0,0,1,0,0,0],fri:[0,0,0,0,0,0,0,1,3,0,0,5,0,4,0,0,3,0,0,0,0,1,0,0],sat:[0,0,0,0,2,1,0,0,1,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0],sun:[0,0,0,0,0,0,0,1,0,0,0,0,3,1,0,0,0,0,0,0,1,0,0,0]}}},{alias:d,data:{title:"–ö–æ–º–º–∏—Ç—ã, 2 –Ω–µ–¥–µ–ª—è",subtitle:A,data:{mon:[0,1,1,1,0,0,0,0,0,4,0,0,2,0,0,0,0,1,0,0,0,2,0,2],tue:[0,1,2,1,0,0,0,0,1,1,0,0,0,0,5,0,0,0,0,0,0,0,0,0],wed:[0,0,0,0,2,0,1,2,0,3,0,0,0,0,0,0,0,0,0,3,1,1,0,0],thu:[0,0,2,0,0,0,0,1,2,0,0,0,0,0,1,2,0,3,0,1,1,0,0,0],fri:[0,0,0,1,1,0,2,0,4,0,0,0,2,0,3,2,0,0,0,0,1,1,0,1],sat:[1,0,0,0,0,0,1,1,0,0,1,1,0,1,0,0,0,0,2,2,0,2,0,0],sun:[0,0,0,0,2,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,1]}}}]},N=200,H=299;class U{static loadUsers(){return fetch("https://api.github.com/users").then(U.checkStatus).then(U.toJSON).then(U.adaptDataToClient).catch(U.catchError)}static checkStatus(e){if(e.status<N||e.status>H){const{status:t,statusText:s}=e;throw((e,t)=>{const s=document.createElement("div");s.classList.add("error-modal"),s.textContent=`Error status: ${e}. Error text: ${t}.`,document.body.insertAdjacentElement("afterbegin",s)})(t,s),new Error(`${t}: ${s}`)}return e}static toJSON(e){return e.json()}static adaptDataToClient(e){return e.map(n)}static catchError(e){throw e}getData(){return U.loadUsers().then((e=>D(e)))}}class M{constructor(){if(new.target===M)throw new Error("–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ª—è—Ä –∫–ª–∞—Å—Å–∞ Abstract, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∫–ª–∞—Å—Å–æ–º");this._element=null,this._callback={}}getTemplate(){throw new Error("–ú–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ Abstract –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç getTemplate")}getElement(){return this._element||(this._element=(e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild})(this.getTemplate())),this._element}removeElement(){this._element=null}}const j=(e,t,s=o)=>{t instanceof M&&(t=t.getElement()),s===r&&e.before(t),s===l&&e.prepend(t),s===o&&e.append(t),s===c&&e.after(t)},B=e=>{if(!(e instanceof M))throw new Error("–í–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏");e.getElement().remove(),e.removeElement()},O={[g.LIGHT]:"theme_light",[g.DARK]:"theme_dark"},F=document.querySelector("body"),z=Boolean(document.querySelector(".favicon"));class V{constructor(){this._currentColorTheme=S,this._currentColorClass=O[this._currentColorTheme],this._prevColorTheme=this._currentColorTheme===g.LIGHT?g.DARK:g.LIGHT,this._prevColorClass=null,this._changeColorTheme=this._changeColorTheme.bind(this)}init(){this._addInitialBodyClass(),this._addInitialHeadFavicons(),this._checkDefaultThemeFavicons()}_addInitialBodyClass(){F.classList.add(this._currentColorClass)}_addInitialHeadFavicons(){if(!z){((e,t,s=o)=>{e.insertAdjacentHTML(s,t)})(document.querySelector("head"),k.join(""))}this._favicons=document.querySelectorAll(".favicon"),this._faviconMsapplication=document.querySelector(".favicon-msapplication")}_checkDefaultThemeFavicons(){Boolean(this._favicons[0].href.match(new RegExp(S)))||this._changeFavicon()}_changeFavicon(){for(const e of this._favicons)e.href=e.href.replace(this._prevColorTheme,this._currentColorTheme);this._faviconMsapplication.content=this._faviconMsapplication.content.replace(this._prevColorTheme,this._currentColorTheme)}_changeColorTheme(e){e===g.LIGHT?(this._currentColorTheme=g.LIGHT,this._prevColorTheme=g.DARK):(this._currentColorTheme=g.DARK,this._prevColorTheme=g.LIGHT),this._currentColorClass=O[this._currentColorTheme],this._prevColorClass=O[this._prevColorTheme],F.classList.remove(this._prevColorClass),F.classList.add(this._currentColorClass),this._changeFavicon(),localStorage.setItem(v,e)}getChangeColorTheme(){return this._changeColorTheme}}class R{constructor(e){this._sliderContainer=e.sliderContainer,this._buttonSlidePrev=e.buttonSlidePrev,this._buttonSlideNext=e.buttonSlideNext,this._togglePrevSlide=e.togglePrevSlide,this._toggleNextSlide=e.toggleNextSlide,this._xDown=null,this._yDown=null,this._onSwipeDown=this._onSwipeDown.bind(this),this._onSwipeMove=this._onSwipeMove.bind(this),this._onSwipeUp=this._onSwipeUp.bind(this)}init(){this._sliderContainer.addEventListener("pointerdown",this._onSwipeDown)}_onSwipeDown(e){e.target===this._buttonSlidePrev||e.target===this._buttonSlideNext||(this._xDown=e.clientX,this._yDown=e.clientY,this._sliderContainer.addEventListener("pointermove",this._onSwipeMove),this._sliderContainer.addEventListener("pointerup",this._onSwipeUp))}_onSwipeMove(e){const t=this._buttonSlidePrev.getAttribute("disabled"),s=this._buttonSlideNext.getAttribute("disabled");if(!this._xDown||!this._yDown)return;const n=e.clientX,i=e.clientY,a=this._xDown-n,r=this._yDown-i;Math.abs(a)<Math.abs(r)&&(r>0&&!s?this._toggleNextSlide():r<0&&!t&&this._togglePrevSlide()),this._xDown=null,this._yDown=null}_onSwipeUp(){this._sliderContainer.removeEventListener("pointerup",this._onSwipeUp),this._sliderContainer.removeEventListener("pointermove",this._onSwipeMove)}}class q{constructor(e){if(this._element=e,!this._element)return!1;this._selector=`#${this._element.id}`,this.sliderContainer=this._element.querySelector(`${this._selector} .slider__container`),this._sliderWrapper=this.sliderContainer.querySelector(`${this._selector} .slider__wrapper`),this.buttonSlidePrev=this.sliderContainer.querySelector(`${this._selector} .slider__button-prev`),this.buttonSlideNext=this.sliderContainer.querySelector(`${this._selector} .slider__button-next`),this._buttonDisabledClass="button--disabled",this._slideActiveClass="slider__slide--active",this._slides=[...this.sliderContainer.querySelectorAll(`${this._selector} .slider__slide`)],this._slideTransitionSignPolarity=-1,this._slideIndex=0,this._slideHidingClass="slider__slide--hiding",this._slideHiding=this.sliderContainer.querySelector(`${this._selector} .${this._slideHidingClass}`),this.togglePrevSlide=this.togglePrevSlide.bind(this),this.toggleNextSlide=this.toggleNextSlide.bind(this),this.boundOnResize=this._onResize.bind(this),this._swipeComponent=new R(this)}init(){this._slides[0].classList.add(this._slideActiveClass),this._disableButton(this.buttonSlidePrev),1!==this._slides.length||this._slideHiding?(this.buttonSlidePrev.addEventListener("click",this.togglePrevSlide),this.buttonSlideNext.addEventListener("click",this.toggleNextSlide),this._changeSlidesBecauseSlideHiding(),this._sliderHeight=this.sliderContainer.offsetHeight,window.addEventListener("resize",this.boundOnResize),this._swipeComponent.init()):this._disableButton(this.buttonSlideNext)}destroy(){window.removeEventListener("resize",this.boundOnResize),this._element=null}_onResize(){this._sliderHeight=this.sliderContainer.offsetHeight,this._changeSlidesBecauseSlideHiding(),this._setTranslateProperty()}_disableButton(e){e.classList.add(this._buttonDisabledClass),e.setAttribute("disabled","disabled")}_activateButton(e){e.classList.remove(this._buttonDisabledClass),e.removeAttribute("disabled")}_disableTabindex(e){const t=this._slides[e].querySelectorAll(".people__link");for(const e of t)e.setAttribute("tabindex",-1)}_activateTabindex(e){const t=this._slides[e].querySelectorAll(".people__link");for(const e of t)e.setAttribute("tabindex",0)}_checkIndexForButtonSlidePrev(){0===this._slideIndex&&this._disableButton(this.buttonSlidePrev),this._slideIndex===this._slides.length-2&&this._activateButton(this.buttonSlideNext)}_checkIndexForButtonSlideNext(){1===this._slideIndex&&this._activateButton(this.buttonSlidePrev),this._slideIndex===this._slides.length-1&&this._disableButton(this.buttonSlideNext)}_removeActiveClass(e){this._slides[e].classList.remove(this._slideActiveClass)}_addActiveClass(e){this._slides[e].classList.add(this._slideActiveClass)}_doBeforeIndexChange(){this._disableTabindex(this._slideIndex),this._removeActiveClass(this._slideIndex)}_doAfterIndexChange(){this._activateTabindex(this._slideIndex),this._addActiveClass(this._slideIndex)}togglePrevSlide(){this._doBeforeIndexChange(),this._slideIndex--,this._checkIndexForButtonSlidePrev(),this._setTranslateProperty(),this._doAfterIndexChange()}toggleNextSlide(){this._doBeforeIndexChange(),this._slideIndex++,this._checkIndexForButtonSlideNext(),this._setTranslateProperty(),this._doAfterIndexChange()}_setTranslateProperty(){const e=`translateY(${this._slideTransitionSignPolarity*this._slideIndex*this._sliderHeight}px)`;this._sliderWrapper.style.transform=e}_changeSlidesBecauseSlideHiding(){if(this._slideHiding){const e=this._slides[this._slides.length-1].classList.contains(this._slideHidingClass),t="none"===getComputedStyle(this._slideHiding).display;this._slideHiding.classList.contains(this._slideActiveClass)&&(this._doBeforeIndexChange(),this._slideIndex--,this._doAfterIndexChange()),e&&t&&this._slides.splice(this._slides.length-1,1),e||t||this._slides.push(this._slideHiding),this._checkIndexForButtonSlidePrev(),this._checkIndexForButtonSlideNext()}}}const G=e=>{const t=new RegExp(`${e}=([\\w]*)`);return window.location.hash.match(t)[1]},K=e=>{const{param:t,value:s}=e;window.location.hash=((e,t)=>{const s=new RegExp(`${e}=([\\w]*)`);return window.location.hash.replace(s,`${e}=${t}`)})(t,s)};class Y{constructor(){this._currentPageIndex=E,this._currentThemeColor=S;const e=`${m}=${this._currentPageIndex}`,t=`${v}=${this._currentThemeColor}`;this._hash=`/?${e}&${t}`,this._handleHashChange=this._handleHashChange.bind(this)}init(e,t,s){this._lastPageIndex=e,this._renderPage=t,this._changeColorTheme=s,window.location.hash=this._hash,window.addEventListener("hashchange",this._handleHashChange)}_handleHashChange(){const e=G(m),t=G(v);e&&this._handleParamPageChange(e),t&&this._handleParamThemeChange(t)}_handleParamPageChange(e){e<=this._lastPageIndex&&this._currentPageIndex!==e&&(this._currentPageIndex=e,this._renderPage(e))}_handleParamThemeChange(e){Object.values(g).some((t=>t===e))&&this._currentThemeColor!==e&&(this._currentThemeColor=e,this._changeColorTheme(e))}}class X extends class{constructor(){this._observers=[]}subscribe(e){this._observers.push(e)}unsubscribe(e){this._observers=this._observers.filter((t=>t!==e))}_notify(e,t){this._observers.forEach((s=>s(e,t)))}}{constructor(){super(),this._data=null,this._lastIndex=null,this._currentIndex=null}setData(e,t){this._data=t,this._lastIndex=t.length-1,this._notify(e)}setCurrentPageIndex(e){this._currentIndex=Number(e)}getCurrentPageIndex(){return this._currentIndex}getLastPageIndex(){return this._lastIndex}getCurrentPageData(e){return this.setCurrentPageIndex(e),this._data[this._currentIndex]}updateSelectedVote(e,t){const s=this._data[this._currentIndex].data,n=this._data[this._currentIndex+1].data,i=n.users.find((e=>e.id===t));i.id===n.selectedUserId||(n.selectedUserIdPrev=n.selectedUserId,n.selectedUserId=t,s.selectedUserId=t,this._changeVotesValueUsers(s,n,i),this._sortUsers(n),this._notify(e,t))}_changeVotesValueUsers(e,t,s){if(t.selectedUserIdPrev){const e=t.users.find((e=>e.id===t.selectedUserIdPrev)),s=parseInt(e.valueText,10)-1;e.valueText=`${s} votes`}const n=parseInt(s.valueText,10)+1;s.valueText=`${n} votes`}_sortUsers(e){e.users.sort(((e,t)=>parseInt(t.valueText,10)-parseInt(e.valueText,10)))}}class J extends M{constructor(e){super(),this._data=e}removeElement(){super.removeElement(),this._data=null}}const W=(e,t)=>{const s=[],n=Math.ceil(e.length/t);for(let i=0;i<n;i++){const n=i*t;s[i]=e.slice(n,n+t)}return s},Q=(e,t)=>{const{id:s,name:n,avatar:i}=e,{slideIndex:a,selectedUserId:r}=t,l=s===r;return`\n      <li class="${l?"vote__item vote__item--active":"vote__item"} people__item">\n        <button\n          class="vote__button people__link"\n          tabindex="${0===a?0:-1}"\n          data-vote-id="${s}"\n        >\n          <span class="people__img-wrap">\n            <span class="people__emoji emoji">${l?"üëç":""}</span>\n            <img\n              class="people__img"\n              src="${i}"\n              alt="${n}"\n            >\n          </span>\n          <span class="people__name">\n            ${n}\n          </span>\n        </button>\n      </li>\n    `},Z=(e,t,s,n)=>{const i={slideIndex:s,selectedUserId:n},a=t?"vote__slider-slide slider__slide":"vote__slider-slide slider__slide--hiding",r=e.map((e=>Q(e,i))).join("");let l="";return t&&(l=t.map((e=>Q(e,i))).join("")),`\n      <div class="${a}">\n        <ul class="vote__list vote__list--min people">\n          ${r}\n        </ul>\n        <ul class="vote__list vote__list--max people">\n          ${l}\n        </ul>\n      </div>\n    `},ee=e=>{const{title:t,subtitle:s}=e;return`\n      <section class="vote slider container" id="vote-slider">\n        <div class="board__text-wrap vote__text-wrap">\n          <h1 class="board__title vote__title title">\n            ${t}\n          </h1>\n          <h2 class="board__subtitle vote__subtitle">\n            ${s}\n          </h2>\n        </div>\n\n        <div class="vote__slider-container slider__container">\n          <div class="vote__slider-wrapper slider__wrapper">\n            ${(e=>{const{users:t,selectedUserId:s,offset:n}=e;if(n){const e=t.splice(n,1);t.unshift(...e)}const i=[],a=W(t,8),r=W(t,6);let l,o;l=r,o=a;for(let e=0;e<l.length;e++)i[e]=Z(l[e],o[e],e,s);return i.join("")})(e)}\n          </div>\n\n          <button class="vote__slider-button-prev slider__button-prev button button--prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π —Å–ª–∞–π–¥" disabled>\n            <svg class="button__icon" width="64" height="64">\n              <use xlink:href="assets/images/sprite.svg#button"></use>\n            </svg>\n          </button>\n\n          <button class="vote__slider-button-next slider__button-next button button--next" aria-label="–°–ª–µ–¥—É—é—â–∏–π —Å–ª–∞–π–¥">\n            <svg class="button__icon" width="64" height="64">\n              <use xlink:href="assets/images/sprite.svg#button"></use>\n            </svg>\n          </button>\n        </div>\n      </section>\n    `};const te=e=>parseInt(e.match(/\d+/),10);const se={0:"largest",1:"large",2:"small",3:"smallest"},ne=e=>e.map(((e,t)=>((e,t)=>{const{title:s,valueText:n,differenceText:i}=e,a=se[t],r=te(n);return`\n      <li class="diagram__item">\n        <span class="diagram__icon-wrap diagram__icon-wrap--${a}">\n          <picture class="diagram__picture diagram__picture--icon diagram__picture--theme-dark">\n            <source\n              type="image/webp"\n              srcset="assets/images/1x/decor/circle/circle-dark-${a}.webp 1x,\n                      assets/images/2x/decor/circle/circle-dark-${a}.webp 2x,\n                      assets/images/3x/decor/circle/circle-dark-${a}.webp 3x,\n                      assets/images/4x/decor/circle/circle-dark-${a}.webp 4x"\n            >\n\n            <img\n              class="diagram__icon"\n              src="assets/images/1x/decor/circle/circle-dark-${a}.png"\n              srcset="assets/images/2x/decor/circle/circle-dark-${a}.png 2x,\n                      assets/images/3x/decor/circle/circle-dark-${a}.png 3x,\n                      assets/images/4x/decor/circle/circle-dark-${a}.png 4x"\n              alt="–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç"\n              width="16"\n              height="16"\n              aria-hidden="true"\n            >\n          </picture>\n          <picture class="diagram__picture diagram__picture--icon diagram__picture--theme-light">\n            <source\n              type="image/webp"\n              srcset="assets/images/1x/decor/circle/circle-light-${a}.webp 1x,\n                      assets/images/2x/decor/circle/circle-light-${a}.webp 2x,\n                      assets/images/3x/decor/circle/circle-light-${a}.webp 3x,\n                      assets/images/4x/decor/circle/circle-light-${a}.webp 4x"\n            >\n\n            <img\n              class="diagram__icon"\n              src="assets/images/1x/decor/circle/circle-light-${a}.png"\n              srcset="assets/images/2x/decor/circle/circle-light-${a}.png 2x,\n                      assets/images/3x/decor/circle/circle-light-${a}.png 3x,\n                      assets/images/4x/decor/circle/circle-light-${a}.png 4x"\n              alt="–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç"\n              width="16"\n              height="16"\n              aria-hidden="true"\n            >\n          </picture>\n        </span>\n        <p class="diagram__value-desc">\n          ${s}\n        </p>\n        <p class="diagram__value-change">\n          +${te(i)}\n        </p>\n        <p class="diagram__value-current">\n          ${r}\n        </p>\n      </li>\n    `})(e,t))).join("");const ie=7,ae=12,re={0:"min",1:"mid",2:"mid",3:"max",4:"max",5:"extra",6:"extra"},le=e=>{const t=[];for(let s=0;s<e.length;s++){const n=e[s]+e[s+1];t.push(n),s++}return t},oe=e=>{const t=re[e];return`\n      <li class="activity__graph">\n        <picture class="activity__picture activity__picture--theme-dark">\n          <source\n            type="image/webp"\n            srcset="assets/images/1x/decor/graph/${t}-dark.webp 1x,\n                    assets/images/2x/decor/graph/${t}-dark.webp 2x,\n                    assets/images/3x/decor/graph/${t}-dark.webp 3x,\n                    assets/images/4x/decor/graph/${t}-dark.webp 4x"\n          >\n\n          <img\n            class="activity__figure activity__figure--${t}"\n            src="assets/images/1x/decor/graph/${t}-dark.png"\n            srcset="assets/images/2x/decor/graph/${t}-dark.png 2x,\n                    assets/images/3x/decor/graph/${t}-dark.png 3x,\n                    assets/images/4x/decor/graph/${t}-dark.png 4x"\n            alt="${t}"\n          >\n        </picture>\n        <picture class="activity__picture activity__picture--theme-light">\n          <source\n            type="image/webp"\n            srcset="assets/images/1x/decor/graph/${t}-light.webp 1x,\n                    assets/images/2x/decor/graph/${t}-light.webp 2x,\n                    assets/images/3x/decor/graph/${t}-light.webp 3x,\n                    assets/images/4x/decor/graph/${t}-light.webp 4x"\n          >\n\n          <img\n            class="activity__figure activity__figure--${t}"\n            src="assets/images/1x/decor/graph/${t}-light.png"\n            srcset="assets/images/2x/decor/graph/${t}-light.png 2x,\n                    assets/images/3x/decor/graph/${t}-light.png 3x,\n                    assets/images/4x/decor/graph/${t}-light.png 4x"\n            alt="${t}"\n          >\n        </picture>\n      </li>\n    `},ce=e=>{const{title:t,subtitle:s,data:n}=e,i=Object.values(n);return`\n      <section class="activity container">\n        <div class="board__text-wrap activity__text-wrap">\n          <h1 class="board__title activity__title title">\n            ${t}\n          </h1>\n          <h2 class="board__subtitle activity__subtitle">\n            ${s}\n          </h2>\n        </div>\n        <ul class="activity__list-graphs activity__list-graphs--full">\n          ${(e=>e.map((e=>e.map((e=>oe(e))).join(""))).join(""))(i)}\n        </ul>\n        <ul class="activity__list-graphs activity__list-graphs--half">\n          ${(e=>{const t=[];for(let s=0;s<ie;s++)t.push(le(e[s]));const s=[];for(let e=0;e<ae;e++)for(let n=0;n<ie;n++)s.push(oe(t[n][e]));return s.join("")})(i)}\n        </ul>\n        <ul class="activity__list-legends">\n          <li class="activity__legend">\n            <span class="activity__bar-color activity__bar-color--step"></span>\n            <p class="activity__bar-desc activity__bar-desc--full">\n              1 —á–∞—Å\n            </p>\n            <p class="activity__bar-desc activity__bar-desc--half">\n              2 —á–∞—Å–∞\n            </p>\n          </li>\n          <li class="activity__legend">\n            <span class="activity__bar-color activity__bar-color--min"></span>\n            <p class="activity__bar-desc">\n              0\n            </p>\n          </li>\n          <li class="activity__legend">\n            <span class="activity__bar-color activity__bar-color--mid"></span>\n            <p class="activity__bar-desc">\n              1 ‚Äî 2\n            </p>\n          </li>\n          <li class="activity__legend">\n            <span class="activity__bar-color activity__bar-color--max"></span>\n            <p class="activity__bar-desc">\n              3 ‚Äî 4\n            </p>\n          </li>\n          <li class="activity__legend">\n            <span class="activity__bar-color activity__bar-color--extra"></span>\n            <p class="activity__bar-desc">\n              5 ‚Äî 6\n            </p>\n          </li>\n        </ul>\n      </section>\n    `};class de extends M{getTemplate(){return'\n      <div class=\'loader\'>\n        <img class="loader__logo loader__logo--dark" src="assets/images/preloader-dark.svg" alt="Stories" width="104" height="112" />\n        <img class="loader__logo loader__logo--light" src="assets/images/preloader-light.svg" alt="Stories" width="104" height="112" />\n      </div>\n    '}}const _e="nav-controls--first-page",he="nav-controls--last-page";class ue extends M{constructor(){super(),this._container=this.getElement(),this._navControlClickCallback=this._navControlClickCallback.bind(this)}getTemplate(){return`\n      <div class="board__nav-controls nav-controls">\n        <button\n          class="nav-controls__btn nav-controls__btn--theme nav-controls__btn--light"\n          aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç–µ–º–Ω—É—é —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É"\n          data-control-type="${b}"\n          data-param-type="${v}"\n        >\n          <p class="nav-controls__btn__desc visually-hidden">\n            –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç–µ–º–Ω—É—é —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É.\n          </p>\n\n          <svg class="nav-controls__icon" width="32" height="32">\n            <use xlink:href="assets/images/sprite.svg#theme-dark"></use>\n          </svg>\n        </button>\n\n        <button\n          class="nav-controls__btn nav-controls__btn--theme nav-controls__btn--dark"\n          aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É"\n          data-control-type="${x}"\n          data-param-type="${v}"\n        >\n          <p class="nav-controls__btn__desc visually-hidden">\n            –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É.\n          </p>\n\n          <svg class="nav-controls__icon" width="32" height="32">\n            <use xlink:href="assets/images/sprite.svg#theme-light"></use>\n          </svg>\n        </button>\n\n        <button\n          class="nav-controls__btn nav-controls__btn--next"\n          aria-label="–°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"\n          data-control-type="${f}"\n          data-param-type="${m}"\n        >\n          <p class="nav-controls__btn__desc visually-hidden">\n            –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.\n          </p>\n\n          <svg class="nav-controls__icon" width="32" height="32">\n            <use xlink:href="assets/images/sprite.svg#nav"></use>\n          </svg>\n        </button>\n\n        <button\n          class="nav-controls__btn nav-controls__btn--prev"\n          aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"\n          data-control-type="${C}"\n          data-param-type="${m}"\n        >\n          <p class="nav-controls__btn__desc visually-hidden">\n            –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.\n          </p>\n\n          <svg class="nav-controls__icon" width="32" height="32">\n            <use xlink:href="assets/images/sprite.svg#nav"></use>\n          </svg>\n        </button>\n\n        <button\n          class="nav-controls__btn nav-controls__btn--restart"\n          aria-label="–ö –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ä–Ω–∏—Ü–µ"\n          data-control-type="${w}"\n          data-param-type="${m}"\n        >\n          <p class="nav-controls__btn__desc visually-hidden">\n            –ö –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ä–Ω–∏—Ü–µ.\n          </p>\n\n          <svg class="nav-controls__icon" width="32" height="32">\n            <use xlink:href="assets/images/sprite.svg#restart"></use>\n          </svg>\n        </button>\n      </div>\n    `}addExtraClass(e){const{isFirst:t,isLast:s,isMiddle:n}=e;t&&(this._container.classList.add(_e),this._container.classList.remove(he)),s&&(this._container.classList.add(he),this._container.classList.remove(_e)),n&&(this._container.classList.remove(he),this._container.classList.remove(_e))}addNavControlClickListener(e){this._callback.navControlClick=e,this._container.addEventListener("click",this._navControlClickCallback)}_navControlClickCallback(e){if(e.target===e.currentTarget)return;e.preventDefault();const t=e.target.dataset.controlType,s=e.target.dataset.paramType;this._callback.navControlClick(t,s)}}class pe extends M{getTemplate(){return'\n      <main class="main">\n        <div class="board"></div>\n      </main>\n    '}getContainer(){return this.getElement().querySelector(".board")}}const ge={[d]:class extends J{getTemplate(){return ce(this._data)}},[_]:class extends J{getTemplate(){return(e=>{const{title:t,subtitle:s,totalText:n,differenceText:i,categories:a}=e;return`\n      <section class="diagram container">\n        <div class="board__text-wrap diagram__text-wrap">\n          <h1 class="board__title diagram__title title">\n            ${t}\n          </h1>\n          <h2 class="board__subtitle diagram__subtitle">\n            ${s}\n          </h2>\n        </div>\n\n        <div class="diagram__wrap">\n          <figure class="diagram__figure">\n            <figcaption class="diagram__figcaption">\n              <h2 class="diagram__figcaption-title title">\n                ${n}\n              </h2>\n              <h3 class="diagram__figcaption-subtitle subtitle">\n                ${i}\n              </h3>\n            </figcaption>\n\n            <picture class="diagram__picture diagram__picture--diagram diagram__picture--theme-dark">\n              <source\n                type="image/webp"\n                srcset="assets/images/1x/decor/diagram/diagram-dark.webp 1x,\n                        assets/images/2x/decor/diagram/diagram-dark.webp 2x,\n                        assets/images/3x/decor/diagram/diagram-dark.webp 3x,\n                        assets/images/4x/decor/diagram/diagram-dark.webp 4x"\n              >\n\n              <img\n                class="diagram__image"\n                src="assets/images/1x/decor/diagram/diagram-dark.png"\n                srcset="assets/images/2x/decor/diagram/diagram-dark.png 2x,\n                        assets/images/3x/decor/diagram/diagram-dark.png 3x,\n                        assets/images/4x/decor/diagram/diagram-dark.png 4x"\n                alt="–î–∏–∞–≥—Ä–∞–º–º–∞. ${t}"\n              >\n            </picture>\n            <picture class="diagram__picture diagram__picture--diagram diagram__picture--theme-light">\n              <source\n                type="image/webp"\n                srcset="assets/images/1x/decor/diagram/diagram-light.webp 1x,\n                        assets/images/2x/decor/diagram/diagram-light.webp 2x,\n                        assets/images/3x/decor/diagram/diagram-light.webp 3x,\n                        assets/images/4x/decor/diagram/diagram-light.webp 4x"\n              >\n\n              <img\n                class="diagram__image"\n                src="assets/images/1x/decor/diagram/diagram-light.png"\n                srcset="assets/images/2x/decor/diagram/diagram-light.png 2x,\n                        assets/images/3x/decor/diagram/diagram-light.png 3x,\n                        assets/images/4x/decor/diagram/diagram-light.png 4x"\n                alt="–î–∏–∞–≥—Ä–∞–º–º–∞. ${t}"\n              >\n            </picture>\n          </figure>\n\n          <ul class="diagram__list">\n            ${ne(a)}\n          </ul>\n        </div>\n      </section>\n    `})(this._data)}},[h]:class extends J{getTemplate(){return(e=>{const{title:t,subtitle:s}=e;return`\n      <section class="leaders container">\n        <div class="board__text-wrap leaders__text-wrap">\n          <h1 class="board__title leaders__title title">\n            ${t}\n          </h1>\n          <h2 class="board__subtitle leaders__subtitle">\n            ${s}\n          </h2>\n        </div>\n\n        <ul class="leaders__list people">\n          ${(e=>{const{emoji:t,users:s,selectedUserId:n}=e,i=((e,t)=>{let s;return null!=e&&(s=t.findIndex((t=>t.id===e))),s})(n,s),a=i>4;let r,l=s;(i>2&&i<=4||a)&&(r=s[i]),s.length>5&&(l=s.slice(0,5)),a&&(l=l.slice(0,4),l.push(r));const o={emoji:t,selectedUserIndex:i,selectedUser:r};return l.map(((e,t)=>((e,t,s)=>{const{name:n,avatar:i,valueText:a}=e,{emoji:r,selectedUser:l}=s;let o,{selectedUserIndex:c}=s,d=t+1;return l&&(0===t&&(o=((e,t)=>{const{name:s,avatar:n,valueText:i}=e,a=t+1;return`\n      <span class="leaders__not-included-wrap people__not-included-wrap">\n        <span class="people__img-wrap">\n          <span class="people__emoji emoji">üëç</span>\n          <img\n            class="people__img"\n            src="${n}"\n            alt="–ú–µ—Å—Ç–æ ‚Ññ${a}. ${s}"\n          >\n        </span>\n        <span class="people__name">\n          ${s}\n        </span>\n        <span class="people__commit-count caption">\n          ${i}\n        </span>\n\n        <span class="leaders__stats-value leaders__stats-value--not-included title">\n          ${a}\n        </span>\n      </span>\n    `})(l,c)),4===t&&c>=4&&(d=c+1,c=4)),`\n      <li class="leaders__item people__item">\n        <span class="people__img-wrap">\n          <span class="people__emoji emoji">${0===t?r:""}${0!==t&&t===c?"üëç":""}</span>\n          <img\n            class="people__img"\n            src="${i}"\n            alt="–ú–µ—Å—Ç–æ ‚Ññ${d}. ${n}"\n          >\n        </span>\n        <span class="people__name">\n          ${n}\n        </span>\n        <span class="people__commit-count caption">\n          ${a}\n        </span>\n        <p class="leaders__stats">\n          <span class="leaders__stats-value title">\n            ${d}\n          </span>\n\n          ${o?`\n            ${o}\n          `:""}\n\n        </p>\n      </li>\n    `})(e,t,o))).join("")})(e)}\n        </ul>\n    `})(this._data)}},[u]:class extends J{getTemplate(){return(e=>{const{title:t,subtitle:s,values:n,users:i}=e;return`\n      <section class="chart container">\n        <div class="board__text-wrap chart__text-wrap">\n          <h1 class="board__title chart__title title">\n            ${t}\n          </h1>\n          <h2 class="board__subtitle chart__subtitle">\n            ${s}\n          </h2>\n        </div>\n        <ul class="chart__list-stats">\n          ${(e=>{const t=[],s=e.findIndex((e=>!0===e.active)),n=e.slice(0,s+3);let i=0;for(let e=0;e<n.length;e++)i<n[e].value&&(i=n[e].value),t[e]=n[n.length-1-e];return t.map((e=>((e,t)=>{const{title:s,value:n,active:i}=e,a=70*n/t+"%";return`\n      <li class="${i?"chart__stat chart__stat--active":"chart__stat"} ${"0%"===a?"chart__stat--empty":""}" style="height: ${a}">\n        <p class="chart__amount-commits subtitle">${n}</p>\n        <p class="chart__sprint-number">${s}</p>\n      </li>\n    `})(e,i))).join("")})(n)}\n\n          <li class="chart__stat chart__stat--hidden"></li>\n        </ul>\n        <ul class="chart__list-leaders people people--row">\n          ${i.map(((e,t)=>((e,t)=>{const{name:s,avatar:n,valueText:i}=e;return`\n      <li class="chart__leader people__item">\n        <span class="people__img-wrap">\n          <img\n            class="people__img"\n            src="${n}"\n            alt="–ú–µ—Å—Ç–æ ‚Ññ${t+1}. ${s}"\n          >\n        </span>\n        <span class="people__name">\n          ${s}\n        </span>\n        <span class="people__commit-count caption">\n          ${i}\n        </span>\n      </li>\n    `})(e,t))).join("")}\n        </ul>\n      </section>\n    `})(this._data)}},[p]:class extends J{constructor(e){super(e),this._container=this.getElement(),this._buttonPointerDownHandler=this._buttonPointerDownHandler.bind(this),this._buttonPointerUpHandler=this._buttonPointerUpHandler.bind(this),this._time={start:null,end:null}}getTemplate(){return ee(this._data)}addVoteButtonClickListener(e){this._callback.voteButtonClick=e,this._container.addEventListener("pointerdown",this._buttonPointerDownHandler)}_buttonPointerDownHandler(e){e.target.classList.contains("vote__button")&&(this._container.removeEventListener("pointerdown",this._buttonPointerDownHandler),this._container.addEventListener("pointerup",this._buttonPointerUpHandler),this._time.start=Date.now())}_buttonPointerUpHandler(e){this._container.removeEventListener("pointerup",this._buttonPointerUpHandler),this._container.addEventListener("pointerdown",this._buttonPointerDownHandler),this._time.end=Date.now(),this._voteButtonClickCallbackIncludedSwipe(e)}_voteButtonClickCallbackIncludedSwipe(e){(this._time.end-this._time.start)/1e3<.09&&this._callback.voteButtonClick(Number(e.target.dataset.voteId))}}};new class{constructor(e){this._api=new U,this._dataModel=new X,this._themePresenter=new V,this._routerPresenter=new Y,this._preloaderComponent=new de,this._navControlsComponent=new ue,this._appContainerComponent=new pe,this._isLoading=!0,this._pageComponent=null,this._sliderPresenter=null,this._containerInside=null,this._containerOutside=document.querySelector(e),this._changeColorTheme=this._themePresenter.getChangeColorTheme(),this._renderPage=this._renderPage.bind(this),this._handlerViewAction=this._handlerViewAction.bind(this),this._handlerModelEvent=this._handlerModelEvent.bind(this),this._handlerNavControlClick=this._handlerNavControlClick.bind(this),this._handlerVoteButtonClick=this._handlerVoteButtonClick.bind(this),this._dataModel.subscribe(this._handlerModelEvent),this._themePresenter.init()}init(){this._renderAppContainer(),this._isLoading&&this._renderPreloader(),this._fetchData()}_fetchData(){this._api.getData().then((e=>{this._dataModel.setCurrentPageIndex(E),this._dataModel.setData(T,e)}))}_renderPreloader(){j(this._containerInside,this._preloaderComponent)}_removePreloader(){B(this._preloaderComponent)}_renderAppContainer(){j(this._containerOutside,this._appContainerComponent),this._containerInside=this._appContainerComponent.getContainer()}_renderNavControls(e){this._navControlsComponent.addNavControlClickListener(this._handlerNavControlClick),this._hideExtraNavControls(e),j(this._containerInside,this._navControlsComponent)}_hideExtraNavControls(e){const t=((e,t)=>{const s={isFirst:!1,isLast:!1,isMiddle:!1};return 0===e&&(s.isFirst=!0),e===t&&(s.isLast=!0),0!==e&&e!==t&&(s.isMiddle=!0),s})(e,this._lastPageIndex);this._navControlsComponent.addExtraClass(t)}_renderPage(e){const{alias:t,data:s}=this._dataModel.getCurrentPageData(e);this._removePageComponent(),this._renderPageComponent(t,s),localStorage.setItem(m,e)}_initSlider(){this._sliderPresenter=new q(this._pageComponent.getElement()),this._sliderPresenter.init()}_removeSlider(){this._sliderPresenter.destroy(),this._sliderPresenter=null}_renderPageComponent(e,t){this._pageComponent=new ge[e](t),j(this._containerInside,this._pageComponent),e===p&&(this._pageComponent.addVoteButtonClickListener(this._handlerVoteButtonClick),this._initSlider())}_removePageComponent(){this._pageComponent&&B(this._pageComponent),this._sliderPresenter&&this._removeSlider()}_handlerViewAction(e,t){e===y&&this._dataModel.updateSelectedVote(I,t)}_handlerModelEvent(e){if(e===T){this._isLoading=!1,this._removePreloader(),this._lastPageIndex=this._dataModel.getLastPageIndex();const e=this._dataModel.getCurrentPageIndex();this._routerPresenter.init(this._lastPageIndex,this._renderPage,this._changeColorTheme),this._renderNavControls(e),this._renderPage(e)}if(e===I){const e=this._dataModel.getCurrentPageIndex();K({param:m,value:e+1})}}_handlerNavControlClick(e,t){let s,n;t===v&&(s=v,n=e),t===m&&(e===f&&(n=this._dataModel.getCurrentPageIndex()+1),e===C&&(n=this._dataModel.getCurrentPageIndex()-1),e===w&&(n=0),s=m,this._hideExtraNavControls(n)),K({param:s,value:n})}_handlerVoteButtonClick(e){this._handlerViewAction(y,e)}}("#root").init()}]);